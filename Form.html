<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Form.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
        integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="icon" href="assets/user.png" type="image/x-icon">
    <link rel="stylesheet" href="/styles/ResponsivoForm.css">
    <title>Login</title>
</head>

<body>
    <div class="modes">

        <a href="#" id="signOutButton">Sign out</a>

        <!-- Carregar a biblioteca da API do Google -->
        <script src="https://apis.google.com/js/platform.js" async defer></script>
    
        <script>
            // Função para desconectar o usuário da conta do Google
            function signOut() {
                // Verifica se a biblioteca da API do Google está carregada
                if (typeof gapi !== 'undefined' && gapi.auth2) {
                    var auth2 = gapi.auth2.getAuthInstance();
                    if (auth2) {
                        auth2.signOut().then(function () {
                            console.log('User signed out.');
                            // Redirecione para a página de login ou outra página após o logout
                            window.location.href = "https://devfinancesss.netlify.app/form";
                        });
                    }
                } else {
                    console.error('Google API not loaded or gapi.auth2 not available.');
                }
            }
    
            // Espera até que o DOM esteja completamente carregado antes de adicionar um manipulador de evento ao botão de logout
            document.addEventListener('DOMContentLoaded', function() {
                document.getElementById("signOutButton").addEventListener("click", signOut);
            });
        </script>

        <div class="wrapper">


            <!----------------------------- Form box ----------------------------------->
            <div class="form-box">
                <!------------------- login form -------------------------->

                <div class="login-container" id="login">
                    <div class="top">
                        <header>
                            <div class="icon">
                                <img src="./assets/logo.svg" alt="logo dev.finance$" />
                                <i id="mode_icon" class="fa-solid fa-moon"></i>
                            </div>
                        </header>
                        <span>Não tem uma conta? <a href="#" onclick="register()">Cadastra-se</a></span>
                    </div>
                    <div class="input-box">
                        <input type="text" class="input-field" placeholder="nome do usuário ou E-mail">
                        <i class="bx bx-user"></i>
                    </div>
                    <div class="input-box">
                        <input type="password" class="input-field" placeholder="Senha">
                        <h2 class="h2_information"></h2>
                        <i class="bx bx-lock-alt"></i>
                    </div>
                    <div class="input-box">
                        <input type="submit" class="submit" value="Entrar">
                        <div class="div_icon"><span>------------------------</span> OU
                            <span>------------------------</span></div>
                        <div id="buttonDiv"></div>
                    </div>
                    <!--
                    <div class="two-col">
                        <div class="one">
                            <input type="checkbox" id="login-check">
                            <label for="login-check">Lembrar de mim</label>
                        </div>
                        <div class="two">
                            <label><a href="#">Esqueceu sua senha ?</a></label>
                        </div>
                    </div>
                  -->
                </div>

                <!------------------- registration form -------------------------->
                <div class="register-container" id="register">
                    <div class="top">
                        <span>Já tem uma conta? <a href="#" onclick="login()">Fazer login</a></span>
                    </div>
                    <div class="two-forms">
                        <div class="input-box">
                            <input type="text" class="input-field" placeholder="Primeiro nome">
                            <i class="bx bx-user"></i>
                        </div>
                        <div class="input-box">
                            <input type="text" class="input-field" placeholder="Último nome">
                            <i class="bx bx-user"></i>
                        </div>
                    </div>
                    <div class="input-box">
                        <input type="text" class="input-field" placeholder="Email">
                        <i class="bx bx-envelope"></i>
                    </div>
                    <div class="input-box">
                        <input type="password" class="input-field" placeholder="Senha">
                        <i class="bx bx-lock-alt"></i>
                    </div>
                    <div class="input-box">
                        <input type="submit" class="submit" value="Registrar">
                    </div>
                    <div class="two-col">
                    </div>
                </div>
            </div>
        </div>
        <script src="scripts/Form/Form.js"></script>
        <script src="https://accounts.google.com/gsi/client" async></script>
    </div>
</body>

</html>